<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Motoracing Manager</title>

<style>
body {font-family: Arial; background:#111; color:white; text-align:center; padding:20px;}
h1 {color:#ff3c00;}
button {background:#ff3c00;color:white;border:none;padding:12px;margin:5px;font-size:14px;border-radius:8px;cursor:pointer;}
button:hover {background:#ff6a00;}
.card {background:#222;padding:15px;margin:15px auto;border-radius:10px;width:95%;max-width:600px;text-align:left;}
.hidden {display:none;}
input {padding:10px;font-size:16px;border-radius:8px;border:none;margin:10px;width:80%;}
pre {white-space: pre-wrap;}
.highlight {color:#ff6a00;font-weight:bold;}
</style>
</head>
<body>

<h1>üèÅ Motoracing Manager</h1>

<div id="setup" class="card">
<h2>Nombre de tu equipo</h2>
<input type="text" id="teamNameInput" placeholder="Escribe el nombre de tu equipo">
<br>
<button onclick="chooseTeamName()">Confirmar</button>
</div>

<div id="sponsorSelection" class="card hidden">
<h2>Elige Sponsor</h2>
<p>Dinero disponible: <span id="moneySponsor"></span></p>
<button onclick="chooseSponsor('RedBull')">RedBull (‚Ç¨1.200.000)</button>
<button onclick="chooseSponsor('Monster')">Monster (‚Ç¨900.000)</button>
<button onclick="chooseSponsor('Pull&Bear')">Pull&Bear (‚Ç¨700.000)</button>
<button onclick="chooseSponsor('GoPro')">GoPro (‚Ç¨500.000)</button>
</div>

<div id="bikeSelection" class="card hidden">
<h2>Elige Moto</h2>
<p>Dinero disponible: <span id="moneyBike"></span></p>
<div id="bikeStats"></div>
<button onclick="chooseBike('Ducati')">Ducati</button>
<button onclick="chooseBike('Aprilia')">Aprilia</button>
<button onclick="chooseBike('KTM')">KTM</button>
<button onclick="chooseBike('Yamaha')">Yamaha</button>
<button onclick="chooseBike('Honda')">Honda</button>
</div>

<div id="pilotSelection" class="card hidden">
<h2>Elige 2 Pilotos</h2>
<p>Dinero disponible: <span id="moneyPilot"></span></p>
<div id="pilotButtons"></div>
<div id="pilotStats"></div>
</div>

<div id="game" class="hidden">

<div class="card">
<h2 id="teamTitle"></h2>
<p id="raceInfo"></p>
<p id="teamInfo"></p>
</div>

<button onclick="simulateRace()">Simular Carrera</button>
<button onclick="showChampionship()">Ver Clasificaci√≥n</button>

<div class="card">
<h2>Resultados</h2>
<pre id="results"></pre>
</div>

</div>

<script>

// ===== DATOS =====

const sponsors = {
RedBull:1200000,
Monster:900000,
"Pull&Bear":700000,
GoPro:500000
};

const bikes = {
Ducati:{power:92,acceleration:88,handling:75,reliability:80,price:300000},
Aprilia:{power:88,acceleration:85,handling:80,reliability:82,price:280000},
KTM:{power:86,acceleration:90,handling:70,reliability:75,price:260000},
Yamaha:{power:89,acceleration:84,handling:82,reliability:83,price:290000},
Honda:{power:87,acceleration:83,handling:78,reliability:80,price:270000}
};

const pilotsList = [
{name:"Pecco Bagnaia",talent:90,consistency:85,salary:400000,points:0},
{name:"Marc M√°rquez",talent:95,consistency:88,salary:500000,points:0},
{name:"Jorge Mart√≠n",talent:92,consistency:86,salary:450000,points:0},
{name:"Marco Bezzecchi",talent:85,consistency:82,salary:350000,points:0},
{name:"Brad Binder",talent:84,consistency:80,salary:330000,points:0},
{name:"Pedro Acosta",talent:91,consistency:84,salary:420000,points:0},
{name:"Fabio Quartararo",talent:93,consistency:87,salary:470000,points:0},
{name:"√Ålex Rins",talent:88,consistency:83,salary:360000,points:0},
{name:"Joan Mir",talent:87,consistency:82,salary:350000,points:0},
{name:"Luca Marini",talent:82,consistency:78,salary:300000,points:0},
{name:"Jack Miller",talent:86,consistency:80,salary:340000,points:0},
{name:"Toprak Razgatlƒ±oƒülu",talent:89,consistency:83,salary:380000,points:0},
{name:"Maverick Vi√±ales",talent:90,consistency:84,salary:400000,points:0},
{name:"Enea Bastianini",talent:88,consistency:83,salary:360000,points:0},
{name:"√Ålex M√°rquez",talent:85,consistency:80,salary:330000,points:0},
{name:"Ferm√≠n Aldeguer",talent:83,consistency:78,salary:280000,points:0},
{name:"Fabio Di Giannantonio",talent:84,consistency:79,salary:290000,points:0},
{name:"Franco Morbidelli",talent:86,consistency:81,salary:340000,points:0},
{name:"Ra√∫l Fern√°ndez",talent:82,consistency:77,salary:270000,points:0},
{name:"Ai Ogura",talent:80,consistency:76,salary:250000,points:0},
{name:"Johann Zarco",talent:87,consistency:82,salary:350000,points:0},
{name:"Diogo Moreira",talent:79,consistency:75,salary:240000,points:0}
];

const circuits = [
"GP de Tailandia","GP de Brasil","GP de las Am√©ricas","GP de Qatar",
"GP de Espa√±a","GP de Francia","GP de Catalunya","GP de Italia",
"GP de Hungr√≠a","GP de la Rep√∫blica Checa","GP de los Pa√≠ses Bajos",
"GP de Alemania","GP de Gran Breta√±a","GP de Arag√≥n","GP de San Marino",
"GP de Austria","GP de Jap√≥n","GP de Indonesia","GP de Australia",
"GP de Malasia","GP de Portugal","GP de la Comunidad Valenciana"
];

const pointsTable=[25,20,16,13,11,10,9,8,7,6,5,4,3,2,1];

// ===== VARIABLES =====

let money=0;
let teamName="";
let bikeChosen=null;
let pilotsChosen=[];
let race=1;

// ===== FUNCIONES =====

function chooseTeamName(){
teamName=document.getElementById("teamNameInput").value;
if(!teamName) return alert("Pon un nombre v√°lido");
document.getElementById("setup").classList.add("hidden");
document.getElementById("sponsorSelection").classList.remove("hidden");
}

function chooseSponsor(name){
money=sponsors[name];
document.getElementById("moneyBike").innerText="‚Ç¨"+money;
document.getElementById("sponsorSelection").classList.add("hidden");
document.getElementById("bikeSelection").classList.remove("hidden");
}

function chooseBike(name){
let bike=bikes[name];
if(money<bike.price) return alert("No tienes suficiente dinero");
money-=bike.price;
bikeChosen={...bike,name};
document.getElementById("bikeStats").innerHTML=
`<p><strong>${name}</strong></p>
Potencia:${bike.power} | Aceleraci√≥n:${bike.acceleration} | 
Manejo:${bike.handling} | Fiabilidad:${bike.reliability} | 
Precio:‚Ç¨${bike.price}`;
document.getElementById("moneyPilot").innerText="‚Ç¨"+money;
document.getElementById("bikeSelection").classList.add("hidden");
document.getElementById("pilotSelection").classList.remove("hidden");
loadPilots();
}

function loadPilots(){
let container=document.getElementById("pilotButtons");
container.innerHTML="";
pilotsList.forEach((p,i)=>{
let btn=document.createElement("button");
btn.innerText=p.name+" (‚Ç¨"+p.salary+")";
btn.onclick=()=>choosePilot(i);
container.appendChild(btn);
});
}

function choosePilot(index){
let p=pilotsList[index];
if(pilotsChosen.length>=2) return alert("Ya tienes 2 pilotos");
if(money<p.salary) return alert("No tienes dinero suficiente");
money-=p.salary;
pilotsChosen.push(p);
document.getElementById("moneyPilot").innerText="‚Ç¨"+money;
document.getElementById("pilotStats").innerHTML=
`<p><strong>${p.name}</strong></p>
Talento:${p.talent} | Consistencia:${p.consistency}`;
if(pilotsChosen.length===2) startGame();
}

function startGame(){
document.getElementById("pilotSelection").classList.add("hidden");
document.getElementById("game").classList.remove("hidden");
updateUI();
}

function updateUI(){
document.getElementById("teamTitle").innerText="Equipo: "+teamName;
document.getElementById("raceInfo").innerText=
"Carrera "+race+" / "+circuits.length+" - "+circuits[race-1];
document.getElementById("teamInfo").innerText=
"Moto: "+bikeChosen.name+" | Pilotos: "+
pilotsChosen.map(p=>p.name).join(", ");
}

function simulateRace(){

let results=[];

pilotsList.forEach(p=>{
let bikePower=pilotsChosen.includes(p)?bikeChosen.power:80;
let bikeRel=pilotsChosen.includes(p)?bikeChosen.reliability:75;

let random=(Math.random()*30)-15;

let performance=
(p.talent*0.5)+(p.consistency*0.3)+
(bikePower*0.15)+(bikeRel*0.05)+random;

results.push({name:p.name,performance});
});

results.sort((a,b)=>b.performance-a.performance);

let output="";
results.forEach((r,i)=>{
let pts=pointsTable[i]||0;
let pilot=pilotsList.find(p=>p.name===r.name);
pilot.points+=pts;
let mark=pilotsChosen.some(p=>p.name===r.name)?"üî• ":"";
output+=(i+1)+"¬∫ "+mark+r.name+" - "+pts+" pts\n";
});

document.getElementById("results").innerText=output;

race++;
if(race>circuits.length){
alert("üèÜ Temporada Finalizada");
race=1;
}
updateUI();
}

function showChampionship(){
let sorted=[...pilotsList].sort((a,b)=>b.points-a.points);
let text="üèÜ CLASIFICACI√ìN GENERAL üèÜ\n\n";
sorted.forEach((p,i)=>{
let mark=pilotsChosen.some(u=>u.name===p.name)?"üî• ":"";
text+=(i+1)+"¬∫ "+mark+p.name+" - "+p.points+" pts\n";
});
alert(text);
}

</script>
</body>
</html>
